import{E,F as R,H as w,I as y,J as x,K as v,L as S,M as j,N as F,O,R as B,T as V,U as M,V as b,e as _,r as $}from"./chunk-ZUVOUA3K.js";import{Bb as m,Ka as d,La as c,Ta as P,Vb as u,W as A,Xb as f,_a as p,ab as g,bb as L,ca as h,da as H,eb as o,fb as r,gb as k,hb as I,ka as C,kb as l,la as T,mb as z,ub as a,vb as G}from"./chunk-BBMELW6L.js";var Q=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=H({type:i})}static{this.\u0275inj=A({imports:[R,E,R,E]})}}return i})();function J(i,D){if(i&1){let t=I();o(0,"button",2),l("click",function(){C(t);let n=z();return T(n.startListening())}),o(1,"mat-icon"),a(2,"record_voice_over"),r()()}}function K(i,D){if(i&1){let t=I();o(0,"button",2),l("click",function(){C(t);let n=z();return T(n.stopListening())}),o(1,"mat-icon"),a(2,"record_voice_over"),r()()}}var q=(()=>{class i{constructor(t,e){this.router=t,this.ngZone=e,this.isListening=!1}ngOnInit(){typeof window<"u"&&"webkitSpeechRecognition"in window?(this.speechRecognition=new window.webkitSpeechRecognition,this.speechRecognition.continuous=!1,this.speechRecognition.lang="es-ES",this.speechRecognition.interimResults=!1,this.speechRecognition.onresult=t=>{let e=t.results[0][0].transcript.toLowerCase();this.handleVoiceCommand(e)},this.speechRecognition.onend=()=>{this.isListening=!1}):console.warn("La API SpeechRecognition no est\xE1 disponible en este entorno")}startListening(){this.speechRecognition&&(this.isListening=!0,this.speechRecognition.start())}stopListening(){this.speechRecognition&&this.speechRecognition.stop()}handleVoiceCommand(t){this.ngZone.run(()=>{t.includes("transferencia")?this.router.navigate(["/transferencia"]):t.includes("pago de cuentas")?this.router.navigate(["/apertura-tarjeta"]):t.includes("saldos")?this.router.navigate(["/bloqueo-tarjeta"]):this.respond("Lo siento, no entend\xED esa solicitud.")})}respond(t){let e=window.speechSynthesis,n=new SpeechSynthesisUtterance(t);e.speak(n)}static{this.\u0275fac=function(e){return new(e||i)(c(_),c(P))}}static{this.\u0275cmp=h({type:i,selectors:[["app-asistente"]],standalone:!0,features:[m],decls:7,vars:2,consts:[[1,"asistente-card"],["mat-mini-fab","",3,"click",4,"ngIf"],["mat-mini-fab","",3,"click"]],template:function(e,n){e&1&&(o(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),a(3,"Hola, \xBFen qu\xE9 puedo ayudarte?"),r()(),o(4,"mat-card-content"),p(5,J,3,0,"button",1)(6,K,3,0,"button",1),r()()),e&2&&(d(5),g("ngIf",!n.isListening),d(),g("ngIf",n.isListening))},dependencies:[S,w,x,v,y,f,u,b,M]})}}return i})();function Y(i,D){i&1&&k(0,"div",9)}var kt=(()=>{class i{constructor(t){this.router=t,this.dialogo="",this.speaking=!1,this.userall=[{rut:"16.991.220-3",name:"Nathalie"},{rut:"12.451.052-0",name:"Evelyn"},{rut:"16.701.518-2",name:"Ian"}],this.status=!0,this.name=""}ngOnInit(){typeof window<"u"&&this.startSpeaking()}startSpeaking(){if(typeof window<"u"&&window.speechSynthesis){let t=window.speechSynthesis,e=localStorage.getItem("rut");for(let s=0;s<this.userall.length;s++)e==this.userall[s].rut&&(this.name=this.userall[s].name);localStorage.getItem("primera")=="1"?this.dialogo="\xA1Hola! "+this.name+" \xBFEn qu\xE9 mas te puedo ayudar hoy?":this.dialogo="\xA1Hola! "+this.name+" Soy tu asistente virtual Inspira.  \xBFEn qu\xE9 puedo ayudarte hoy?";let n=new SpeechSynthesisUtterance(this.dialogo);n.onstart=()=>{this.speaking=!0},n.onend=()=>{this.speaking=!1},t.speak(n)}else console.warn("La API SpeechSynthesis no est\xE1 disponible en este entorno")}changeDialog(t){this.dialogo=t,this.startSpeaking()}activateAssistant(t){t=="transferencia"?this.router.navigate(["/transferencia"]):t=="deposito"?this.router.navigate(["/apertura-tarjeta"]):t=="activar"&&this.router.navigate(["/bloqueo-tarjeta"])}cerrarSesion(){let t=window.speechSynthesis;this.dialogo="Hasta Pronto, "+this.name;let e=new SpeechSynthesisUtterance(this.dialogo);e.onstart=()=>{this.speaking=!0},e.onend=()=>{this.speaking=!1},t.speak(e),setTimeout(()=>{this.router.navigate(["/"])},3e3)}static{this.\u0275fac=function(e){return new(e||i)(c(_))}}static{this.\u0275cmp=h({type:i,selectors:[["app-pantalla-inicio"]],standalone:!0,features:[m],decls:22,vars:4,consts:[[1,"main",2,"width","100%"],["mat-mini-fab","","color","warn",1,"logout-button",3,"click"],[1,"pantalla-inicio-card"],[1,"dialogo-container"],[1,"dialogo"],["class","voice-wave",4,"ngIf"],[1,"button-container"],["mat-raised-button","","color","primary",3,"click"],[2,"margin-top","20px"],[1,"voice-wave"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"button",1),l("click",function(){return n.cerrarSesion()}),o(2,"mat-icon"),a(3,"logout"),r()(),o(4,"mat-card",2)(5,"mat-card-header")(6,"mat-card-title"),a(7,"Asistente Virtual"),r()(),o(8,"mat-card-content")(9,"div",3)(10,"p",4),a(11),r(),p(12,Y,1,0,"div",5),r(),o(13,"div",6)(14,"button",7),l("click",function(){return n.activateAssistant("transferencia")}),a(15,"TRANSFERENCIAS"),r(),o(16,"button",7),l("click",function(){return n.activateAssistant("deposito")}),a(17,"PAGO DE CUENTAS"),r(),o(18,"button",7),l("click",function(){return n.activateAssistant("activar")}),a(19,"SALDOS"),r()(),o(20,"div",8),k(21,"app-asistente"),r()()()()),e&2&&(d(10),L("speaking",n.speaking),d(),G(n.dialogo),d(),g("ngIf",n.speaking))},dependencies:[S,w,x,v,y,O,j,F,V,B,$,f,u,Q,b,M,q],styles:['@charset "UTF-8";.pantalla-inicio-card[_ngcontent-%COMP%]{max-width:600px;margin:50px auto;text-align:center}.dialogo-container[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.dialogo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;transition:color .3s ease,transform .3s ease}.dialogo.speaking[_ngcontent-%COMP%]{color:#2e7d32;transform:scale(1.05)}.voice-wave[_ngcontent-%COMP%]{width:100px;height:10px;background-color:#2e7d32;margin:20px auto;border-radius:5px;animation:_ngcontent-%COMP%_pulse 1.5s infinite ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scaleX(1);opacity:.6}50%{transform:scaleX(1.5);opacity:1}to{transform:scaleX(1);opacity:.6}}button[_ngcontent-%COMP%]{margin-top:20px}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.logout-button[_ngcontent-%COMP%]{position:fixed;top:10px;right:10px;z-index:1000;background-color:#d32f2f;color:#fff;box-shadow:0 4px 8px #0003}@media (max-width: 600px){.logout-button[_ngcontent-%COMP%]{top:5px;right:5px}}.main[_ngcontent-%COMP%]{background:linear-gradient(to right,#bcf1e2,#38a4ec);height:100vh;margin:0;display:flex;align-items:center;justify-content:center}']})}}return i})();export{kt as a};
